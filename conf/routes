# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                               controllers.Core.index

GET     /group/startswith               controllers.Group.startsWith

GET     /admin                          controllers.Admin.index
GET     /admin/reindex                  controllers.Admin.reindex

GET     /admin/group                    controllers.admin.Group.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/group/create             controllers.admin.Group.create
GET     /admin/group/:id                controllers.admin.Group.item(id: Long)
POST    /admin/group/:id                controllers.admin.Group.update(id: Long)
GET     /admin/group/edit/:id           controllers.admin.Group.edit(id: Long)
POST    /admin/group                    controllers.admin.Group.add

GET     /admin/role                     controllers.admin.Role.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/role/create              controllers.admin.Role.create
GET     /admin/role/:id                 controllers.admin.Role.item(id: Long)
POST    /admin/role/:id                 controllers.admin.Role.update(id: Long)
GET     /admin/role/edit/:id            controllers.admin.Role.edit(id: Long)
POST    /admin/role                     controllers.admin.Role.add

GET     /admin/test/generate            controllers.admin.Test.generate

GET     /admin/ticket/linktype          controllers.admin.TicketLinkType.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/ticket/linktype/create   controllers.admin.TicketLinkType.create
GET     /admin/ticket/linktype/:id      controllers.admin.TicketLinkType.item(id: Long)
POST    /admin/ticket/linktype/:id      controllers.admin.TicketLinkType.update(id: Long)
GET     /admin/ticket/linktype/edit/:id controllers.admin.TicketLinkType.edit(id: Long)
POST    /admin/ticket/linktype          controllers.admin.TicketLinkType.add

GET     /admin/ticket/priority          controllers.admin.TicketPriority.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/ticket/priority/create   controllers.admin.TicketPriority.create
GET     /admin/ticket/priority/:id      controllers.admin.TicketPriority.item(id: Long)
POST    /admin/ticket/priority/:id      controllers.admin.TicketPriority.update(id: Long)
GET     /admin/ticket/priority/edit/:id controllers.admin.TicketPriority.edit(id: Long)
POST    /admin/ticket/priority          controllers.admin.TicketPriority.add

GET     /admin/ticket/severity          controllers.admin.TicketSeverity.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/ticket/severity/create   controllers.admin.TicketSeverity.create
GET     /admin/ticket/severity/:id      controllers.admin.TicketSeverity.item(id: Long)
POST    /admin/ticket/severity/:id      controllers.admin.TicketSeverity.update(id: Long)
GET     /admin/ticket/severity/edit/:id controllers.admin.TicketSeverity.edit(id: Long)
POST    /admin/ticket/severity          controllers.admin.TicketSeverity.add

GET     /admin/ticket/status            controllers.admin.TicketStatus.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/ticket/status/create     controllers.admin.TicketStatus.create
GET     /admin/ticket/status/:id        controllers.admin.TicketStatus.item(id: Long)
POST    /admin/ticket/status/:id        controllers.admin.TicketStatus.update(id: Long)
GET     /admin/ticket/status/edit/:id   controllers.admin.TicketStatus.edit(id: Long)
POST    /admin/ticket/status            controllers.admin.TicketStatus.add

GET     /admin/ticket/type              controllers.admin.TicketType.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/ticket/type/create       controllers.admin.TicketType.create
GET     /admin/ticket/type/:id          controllers.admin.TicketType.item(id: Long)
POST    /admin/ticket/type/:id          controllers.admin.TicketType.update(id: Long)
GET     /admin/ticket/type/edit/:id     controllers.admin.TicketType.edit(id: Long)
POST    /admin/ticket/type              controllers.admin.TicketType.add

GET     /admin/user                     controllers.admin.User.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/user/create              controllers.admin.User.create
GET     /admin/user/:id                 controllers.admin.User.item(id: Long)
POST    /admin/user/:id                 controllers.admin.User.update(id: Long)
GET     /admin/user/edit/:id            controllers.admin.User.edit(id: Long)
PUT     /admin/user/:id/group/:gid      controllers.admin.User.addToGroup(id: Long, gid: Long)
DELETE  /admin/user/:id/group/:gid      controllers.admin.User.removeFromGroup(id: Long, gid: Long)
POST    /admin/user                     controllers.admin.User.add
POST    /admin/user/:id/password        controllers.admin.User.updatePassword(id: Long)

GET     /admin/workflow                 controllers.admin.Workflow.index(page: Int ?= 1, count: Int ?= 10)
GET     /admin/workflow/create          controllers.admin.Workflow.create
GET     /admin/workflow/:id             controllers.admin.Workflow.item(id: Long)
POST    /admin/workflow/:id             controllers.admin.Workflow.update(id: Long)
GET     /admin/workflow/edit/:id        controllers.admin.Workflow.edit(id: Long)
GET     /admin/workflow/modify/:id      controllers.admin.Workflow.modify(id: Long)
POST    /admin/workflow                 controllers.admin.Workflow.add
POST    /admin/workflow/save/:id        controllers.admin.Workflow.save(id: Long)

PUT     /api/ticket/link/:ticketId      controllers.api.Ticket.link(ticketId: String)
GET     /api/ticket/:id                 controllers.api.Ticket.item(id: String)
GET     /api/linkticket/:id             controllers.api.LinkTicket.item(id: String)
PUT     /api/linkticket/:id             controllers.api.LinkTicket.link(id: String)

#GET     /ticket/linker                  controllers.Ticket.linker
#POST    /api/linkticket/:typeId/:parent/:child controllers.Ticket.link(typeId: Long, parent: String, child: String)
#POST    /api/linkticket/:id             controllers.Ticket.startLink(id: String)
#POST    /api/stoplink                   controllers.Ticket.stopLink


GET     /auth/login                     controllers.Auth.login
GET     /auth/logout                    controllers.Auth.logout
POST    /auth/login                     controllers.Auth.doLogin

GET     /project/create                 controllers.Project.create
GET     /project/edit/:id               controllers.Project.edit(id: Long)
GET     /project/list                   controllers.Project.list(page: Int ?= 1, count: Int ?= 10)
GET     /project/:id                    controllers.Project.item(id: Long)
POST    /project/:id                    controllers.Project.update(id: Long)
GET     /project                        controllers.Project.index(page: Int ?= 1, count: Int ?= 10)
POST    /project                        controllers.Project.add

GET     /search                         controllers.Search.index(page: Int ?= 1, count: Int ?= 10, query: String ?= "*")

GET     /stack                          controllers.Stack.index

GET     /ticket/create                  controllers.Ticket.create
GET     /ticket/:id                     controllers.Ticket.item(id: String, page: Int ?= 1, count: Int ?= 10, query: String ?= "*")

POST    /ticket/:id                     controllers.Ticket.update(id: String)
GET     /ticket/edit/:id                controllers.Ticket.edit(id: String)
POST    /ticket                         controllers.Ticket.add
POST    /ticket/comment/:id             controllers.Ticket.comment(id: String)
POST    /ticket/resolve/:id             controllers.Ticket.doResolve(id: String)
POST    /ticket/status/:id              controllers.Ticket.status(id: String)
POST    /ticket/unresolve/:id           controllers.Ticket.doUnResolve(id: String)

GET     /timeline                       controllers.Timeline.index(page: Int ?= 1, count: Int ?= 10, query: String ?= "*")

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file                 controllers.Assets.at(path="/public", file)
