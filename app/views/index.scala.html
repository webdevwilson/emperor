@(timeline: emp.util.Search.SearchResult[models.Event], projects: List[Project])(implicit request: AuthenticatedRequest)

@import emp._
@import views.html.util._

@main(Messages("general.home")) {
<div class="row-fluid">
 <div class="span8">
  <div class="page-header">
   <h1>@Messages("general.timeline")</h1>
  </div>
   @if(timeline.pager.items.isEmpty) {
   <p>@Messages("general.timeline.empty")</p>
   } else {
   <ul class="unstyled events">
   @timeline.pager.items.map { event =>
    <li>
      <i class="@Messages("event.action.icon." + event.eType)"></i> @Messages("event.action", event.userRealName, Messages("event.action." + event.eType)) <a href="@controllers.routes.Ticket.item("comments", event.eKey)">@event.eKey</a>
      <blockquote>@event.content</blockquote>
      <div class="attr">@Messages("ticket.comment.attribution.prefix") <b>@event.userRealName</b> @Messages("ticket.comment.attribution.postfix", event.dateCreated)</div>
    </li>
   }
   </ul>
   }
 </div>
 <div class="span4">
  <div class="page-header">
   <h1>@Messages("general.projects")</h1>
  </div>
  @if(projects.isEmpty) {
  <p>@Messages("general.projects.empty") <a href="@controllers.routes.Project.create">@Messages("general.projects.add")</a></p>
  } else {
  <ul>
  @projects.map { project =>
   <li><a href="@controllers.routes.Project.item(project.id.get)">@project.name</a></li>
  }
  </ul>
  }
 </div>
</div>
}
