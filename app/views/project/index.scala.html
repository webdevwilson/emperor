@(page: royal.ends.Page[models.Project])(implicit request: AuthenticatedRequest)
@import views.html.util._
@import models.TicketModel
@main(Messages("project.list")) {
<div class="btn-group btn-group-above-table pull-right">
 <a href="@controllers.routes.Project.create" class="btn"><i class="icon-plus"></i> @Messages("project.add")</a>
</div>
<h1>@Messages("project.list")</h1>
@if(page.items.isEmpty) {
@Messages("general.projects.empty")
} else {
@Option(page.items).filterNot(_.isEmpty).map { projects =>
<ul class="unstyled boxy">
  @projects.map { project =>
  <li>
   <h3><a href="@controllers.routes.Project.item(project.id.get)">@project.name</a></h3>
   <dl class="dl-horizontal">
    <dt>@Messages("project.tickets.open")</dt>
    <dd>@TicketModel.getCountOpenByProject(project.id)</dd>
    <dt>@Messages("project.tickets.today")</dt>
    <dd>@TicketModel.getCountTodayByProject(project.id)</dd>
    <dt>@Messages("project.tickets.this_week")</dt>
    <dd>@TicketModel.getCountThisWeekByProject(project.id)</dd>
   </dl>
   <div class="chart">
    Heat Chart?XXX
   </div>
  </li>
  }
</ul>
}
}
}
